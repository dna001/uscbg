/******************************************************************************
Copyright (c) 2003, All Rights Reserved.

$Author$
$Id$ $Revision$ $Date$
******************************************************************************/

/*---------------------------------------------------------------------------*/
/*! \file scf_wchar.c
\brief String Conversion Functions Implementation of wide characters. */
/*---------------------------------------------------------------------------*/
#include "sys_def.h"
#include "scf.h"
#include <stdarg.h>
#include <string.h>

/* CONTANTS / MACROS *********************************************************/

/* LOCAL DATATYPES ***********************************************************/

/* LOCAL FUNCTION PROTOTYPES *************************************************/

/* MODULE CONSTANTS / VARIABLES **********************************************/

/* GLOBAL CONSTANTS / VARIABLES **********************************************/

/* GLOBAL FUNCTIONS **********************************************************/
/*-----------------------------------------------------------------------------
Converts a string of tchar into a character string.
-----------------------------------------------------------------------------*/
int scf_t_to_c(char *p_dst, const tchar_t* p_src, int len)
{
   int n = 0;
   uint8_t* p_byte = REINTERPRET_CAST(uint8_t*, p_src);
   do
   {
      *p_dst++ = *p_byte;
      n++;
      p_byte = p_byte+2;
   } while ((n < len) && (*p_byte != 0));
   return n;
}

/*-----------------------------------------------------------------------------
Converts a character string into a tchar string.
-----------------------------------------------------------------------------*/
int scf_c_to_t(tchar_t *p_dst, const char* p_src, int len)
{
   int n = 0;

   do
   {
      *p_dst++ = *p_src;
      n++;
   } while ((n < len) && (*p_src++ != 0));
   return n;
}

/* LOCAL FUNCTIONS ***********************************************************/
/*-----------------------------------------------------------------------------
-----------------------------------------------------------------------------*/

/* END OF FILE ***************************************************************/

